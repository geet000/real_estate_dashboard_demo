<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Real Estate Intelligence Dashboard</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                50: '#eff6ff',
                100: '#dbeafe',
                200: '#bfdbfe',
                300: '#93c5fd',
                400: '#60a5fa',
                500: '#3b82f6',
                600: '#2563eb',
                700: '#1d4ed8',
                800: '#1e40af',
                900: '#1e3a8a',
              },
            },
            boxShadow: {
              soft: '0 10px 30px rgba(2,8,23,0.06)',
            },
            borderRadius: {
              xl2: '1rem',
            },
          },
        },
      };
    </script>
    <style>
      /* Simple sparkline + chart placeholders */
      .sparkline {
        background: linear-gradient(90deg, rgba(59,130,246,.15), rgba(59,130,246,0));
        mask: radial-gradient(circle at 0 100%, transparent 28px, #000 29px) left bottom / 32px 32px repeat-x;
        height: 28px;
      }
      .area-chart {
        background: linear-gradient(180deg, rgba(59,130,246,.18), rgba(59,130,246,0));
        position: relative;
      }
      .area-chart:after {
        content: '';
        position: absolute;
        inset: 0;
        background-image: linear-gradient(90deg, rgba(2,6,23,.06) 1px, transparent 1px);
        background-size: 56px 100%;
        pointer-events: none;
      }
      .bars {
        display: grid; grid-template-columns: repeat(10, minmax(0,1fr)); gap: .75rem;
        align-items: end; height: 140px;
      }
      .bars span { display: block; width: 100%; background: rgb(59 130 246); border-radius: .5rem; opacity: .85; }
      .heatmap {
        display: grid; grid-template-columns: repeat(12, minmax(0,1fr)); gap: 6px;
      }
      .heatmap span { display:block; aspect-ratio: 1 / 1; border-radius: .375rem; }
    </style>
  </head>
  <body class="bg-slate-50 text-slate-900">
    <div class="min-h-screen grid grid-cols-12">
      <!-- Sidebar -->
      <aside class="col-span-12 md:col-span-2 lg:col-span-2 xl:col-span-2 bg-white border-r border-slate-200 p-4 md:p-6 sticky top-0 h-screen hidden md:flex flex-col">
        <div class="flex items-center gap-2 mb-8">
          <div class="w-9 h-9 rounded-xl bg-brand-600 text-white grid place-items-center font-semibold">REI</div>
          <div>
            <p class="font-semibold leading-tight">Real Estate</p>
            <p class="text-xs text-slate-500 -mt-0.5">Intelligence</p>
          </div>
        </div>
        <nav class="space-y-1 text-sm">
          <a class="flex items-center gap-3 px-3 py-2 rounded-xl bg-slate-100 text-slate-900" href="#">Overview</a>
          <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-slate-100" href="#">Pricing</a>
          <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-slate-100" href="#">Leads</a>
          <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-slate-100" href="#">Matches</a>
          <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-slate-100" href="#">Marketing</a>
          <a class="flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-slate-100" href="#">Settings</a>
        </nav>
        <div class="mt-auto pt-6">
          <div class="p-3 bg-slate-50 rounded-xl border border-slate-200">
            <p class="text-xs text-slate-600">Idealista sync</p>
            <div class="mt-2 flex items-center justify-between">
              <span class="inline-flex items-center gap-1 text-xs text-emerald-700 bg-emerald-50 px-2 py-1 rounded-full">● Live</span>
              <button class="text-xs px-2 py-1 rounded-lg bg-white border hover:bg-slate-50">Manage</button>
            </div>
          </div>
        </div>
      </aside>

      <!-- Main -->
      <main class="col-span-12 md:col-span-10 lg:col-span-10 xl:col-span-10 p-4 md:p-6 lg:p-8">
        <!-- Topbar -->
        <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
          <div class="flex items-center gap-2">
            <h1 class="text-xl md:text-2xl font-semibold">Real Estate Intelligence</h1>
            <span class="text-xs md:text-sm px-2 py-1 rounded-full bg-brand-50 text-brand-700 border border-brand-100">MVP Preview</span>
          </div>
          <div class="flex items-center gap-2">
            <div class="hidden md:flex items-center gap-2 px-3 py-2 rounded-xl bg-white border">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m21 21-4.35-4.35m0 0A7.5 7.5 0 1 0 6.65 6.65a7.5 7.5 0 0 0 10 10Z"/></svg>
              <input class="outline-none text-sm placeholder-slate-400" placeholder="Search properties, leads…" />
            </div>
            <div class="flex items-center gap-2">
              <button class="px-3 py-2 rounded-xl bg-white border">Last 30 days</button>
              <button class="px-3 py-2 rounded-xl bg-brand-600 text-white">Export</button>
            </div>
          </div>
        </div>

        <!-- KPI Cards -->
        <section class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 mt-6">
          <div class="p-4 bg-white rounded-2xl shadow-soft border border-slate-200">
            <div class="flex items-start justify-between">
              <p class="text-sm text-slate-500">Median Asking Price</p>
              <span class="text-xs text-emerald-700 bg-emerald-50 px-2 py-1 rounded-full">+3.2% MoM</span>
            </div>
            <div class="mt-2 flex items-baseline gap-2">
              <h3 class="text-2xl font-semibold">€ 412,000</h3>
              <span class="text-xs text-slate-500">(City: Barcelona)</span>
            </div>
            <div class="mt-3 sparkline rounded-lg"></div>
          </div>
          <div class="p-4 bg-white rounded-2xl shadow-soft border border-slate-200">
            <div class="flex items-start justify-between">
              <p class="text-sm text-slate-500">Days on Market</p>
              <span class="text-xs text-emerald-700 bg-emerald-50 px-2 py-1 rounded-full">-9 days</span>
            </div>
            <div class="mt-2 flex items-baseline gap-2">
              <h3 class="text-2xl font-semibold">36</h3>
              <span class="text-xs text-slate-500">(p50)</span>
            </div>
            <div class="mt-3 sparkline rounded-lg"></div>
          </div>
          <div class="p-4 bg-white rounded-2xl shadow-soft border border-slate-200">
            <div class="flex items-start justify-between">
              <p class="text-sm text-slate-500">Demand Index</p>
              <span class="text-xs text-amber-700 bg-amber-50 px-2 py-1 rounded-full">Moderate</span>
            </div>
            <div class="mt-2 flex items-baseline gap-2">
              <h3 class="text-2xl font-semibold">68</h3>
              <span class="text-xs text-slate-500">/100</span>
            </div>
            <div class="mt-3 sparkline rounded-lg"></div>
          </div>
          <div class="p-4 bg-white rounded-2xl shadow-soft border border-slate-200">
            <div class="flex items-start justify-between">
              <p class="text-sm text-slate-500">Qualified Leads</p>
              <span class="text-xs text-sky-700 bg-sky-50 px-2 py-1 rounded-full">+27 this week</span>
            </div>
            <div class="mt-2 flex items-baseline gap-2">
              <h3 class="text-2xl font-semibold">142</h3>
              <span class="text-xs text-slate-500">active</span>
            </div>
            <div class="mt-3 sparkline rounded-lg"></div>
          </div>
        </section>

        <!-- Main Grid -->
        <section class="grid grid-cols-1 xl:grid-cols-3 gap-4 mt-6">
          <!-- Pricing Trends -->
          <div class="xl:col-span-2 p-5 bg-white rounded-2xl shadow-soft border border-slate-200">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold">Real‑Time Pricing (Idealista + AI)</h3>
              <div class="flex items-center gap-2">
                <button class="text-xs px-2 py-1 rounded-lg border">Daily</button>
                <button class="text-xs px-2 py-1 rounded-lg border bg-slate-900 text-white">Weekly</button>
                <button class="text-xs px-2 py-1 rounded-lg border">Monthly</button>
              </div>
            </div>
            <div class="mt-4 area-chart h-56 rounded-2xl border border-slate-100"></div>
            <div class="mt-3 text-xs text-slate-500">Model v0.1 • Blended median from current Idealista listings + recent closing comps.</div>
          </div>

          <!-- Market Heat -->
          <div class="p-5 bg-white rounded-2xl shadow-soft border border-slate-200">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold">Pricing Heatmap</h3>
              <button class="text-xs px-2 py-1 rounded-lg border">Map</button>
            </div>
            <div class="mt-3 heatmap">
              <!-- simple heat blocks -->
              <script>
                document.addEventListener('DOMContentLoaded', () => {
                  const colors = ['#e2e8f0','#cbd5e1','#94a3b8','#60a5fa','#3b82f6','#2563eb'];
                  const el = document.currentScript.parentElement;
                  for (let i = 0; i < 36; i++) {
                    const s = document.createElement('span');
                    s.style.background = colors[Math.floor(Math.random()*colors.length)];
                    el.appendChild(s);
                  }
                });
              </script>
            </div>
            <div class="mt-3 text-xs text-slate-500">Hot = higher €/m² vs city baseline. Click a cell to drill down by barrio.</div>
          </div>
        </section>

        <!-- Matches & Demand -->
        <section class="grid grid-cols-1 xl:grid-cols-3 gap-4 mt-4">
          <div class="p-5 bg-white rounded-2xl shadow-soft border border-slate-200 xl:col-span-2">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold">Top Lead ↔ Property Matches</h3>
              <button class="text-xs px-2 py-1 rounded-lg border">View all</button>
            </div>
            <div class="mt-4 overflow-x-auto">
              <table class="min-w-full text-sm">
                <thead>
                  <tr class="text-left text-slate-500">
                    <th class="py-2">Lead</th>
                    <th class="py-2">Budget</th>
                    <th class="py-2">Best Match</th>
                    <th class="py-2">Score</th>
                    <th class="py-2">Action</th>
                  </tr>
                </thead>
                <tbody class="divide-y">
                  <tr>
                    <td class="py-3">Laura M. <span class="text-xs text-slate-500">(3BR, Eixample)</span></td>
                    <td>€500–650k</td>
                    <td>#BCN‑2187 · 3BR · 92m²</td>
                    <td>
                      <span class="inline-flex items-center gap-1 text-emerald-700 bg-emerald-50 px-2 py-1 rounded-full">92%</span>
                    </td>
                    <td><button class="text-xs px-2 py-1 rounded-lg bg-brand-600 text-white">Send</button></td>
                  </tr>
                  <tr>
                    <td class="py-3">Sanjay K. <span class="text-xs text-slate-500">(2BR, Gràcia)</span></td>
                    <td>€350–450k</td>
                    <td>#BCN‑1044 · 2BR · 71m²</td>
                    <td>
                      <span class="inline-flex items-center gap-1 text-emerald-700 bg-emerald-50 px-2 py-1 rounded-full">88%</span>
                    </td>
                    <td><button class="text-xs px-2 py-1 rounded-lg bg-brand-600 text-white">Send</button></td>
                  </tr>
                  <tr>
                    <td class="py-3">Marta M. <span class="text-xs text-slate-500">(Loft, Poblenou)</span></td>
                    <td>€280–330k</td>
                    <td>#BCN‑3321 · Loft · 54m²</td>
                    <td>
                      <span class="inline-flex items-center gap-1 text-amber-700 bg-amber-50 px-2 py-1 rounded-full">74%</span>
                    </td>
                    <td><button class="text-xs px-2 py-1 rounded-lg bg-slate-900 text-white">Review</button></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="p-5 bg-white rounded-2xl shadow-soft border border-slate-200">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold">Demand vs Supply</h3>
              <span class="text-xs text-slate-500">By price band</span>
            </div>
            <div class="mt-4 bars">
              <span style="height:72%"></span>
              <span style="height:58%"></span>
              <span style="height:86%"></span>
              <span style="height:42%"></span>
              <span style="height:64%"></span>
              <span style="height:38%"></span>
              <span style="height:53%"></span>
              <span style="height:79%"></span>
              <span style="height:47%"></span>
              <span style="height:67%"></span>
            </div>
            <div class="mt-3 text-xs text-slate-500">Blue bars = relative demand; gray outline = supply (placeholder).</div>
          </div>
        </section>

        <!-- Auto Marketing -->
        <section class="grid grid-cols-1 xl:grid-cols-3 gap-4 mt-4">
          <div class="p-5 bg-white rounded-2xl shadow-soft border border-slate-200 xl:col-span-2">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold">Auto‑Generated Listing Copy</h3>
              <div class="flex items-center gap-2">
                <select class="text-xs px-2 py-1 rounded-lg border bg-white">
                  <option>Persona: Family‑friendly</option>
                  <option>Persona: Investor</option>
                  <option>Persona: Digital Nomad</option>
                </select>
                <button id="copyBtn" class="text-xs px-2 py-1 rounded-lg bg-brand-600 text-white">Copy</button>
              </div>
            </div>
            <div class="mt-3 p-4 rounded-xl bg-slate-50 border text-sm" id="adCopy">
              Sun‑lit 3BR in Eixample with dual‑aspect living, refurbished kitchen, and tranquil interior patio. Steps to L5/L3, top schools, and weekly markets. Priced below area median—book a viewing this week for priority.
            </div>
            <div class="mt-2 text-xs text-slate-500">Tone and highlights adapt to audience; fuelled by listing data + local comps.</div>
          </div>

          <div class="p-5 bg-white rounded-2xl shadow-soft border border-slate-200">
            <div class="flex items-center justify-between">
              <h3 class="font-semibold">Playbooks</h3>
              <button class="text-xs px-2 py-1 rounded-lg border">Manage</button>
            </div>
            <ul class="mt-3 space-y-3 text-sm">
              <li class="flex items-start gap-3">
                <span class="w-2 h-2 rounded-full bg-emerald-500 mt-2"></span>
                <div>
                  <p class="font-medium">Price‑improve candidates (12)</p>
                  <p class="text-slate-500 text-xs">Homes listed \u2265 30 days with low engagement → recommend -2.5% price or new hero images.</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <span class="w-2 h-2 rounded-full bg-indigo-500 mt-2"></span>
                <div>
                  <p class="font-medium">Hot lead follow‑ups (7)</p>
                  <p class="text-slate-500 text-xs">AI drafts WhatsApp + email, pre‑filled with property highlights and CTA.</p>
                </div>
              </li>
              <li class="flex items-start gap-3">
                <span class="w-2 h-2 rounded-full bg-amber-500 mt-2"></span>
                <div>
                  <p class="font-medium">New listing boost (5)</p>
                  <p class="text-slate-500 text-xs">Autogenerate reels, captions, and brochure PDF from photos + floorplan.</p>
                </div>
              </li>
            </ul>
          </div>
        </section>

        <!-- Footer note -->
        <p class="mt-8 text-xs text-slate-500">Data shown is placeholder. In production, pricing is refreshed hourly from Idealista and enriched with comps and AI quality checks.</p>
      </main>
    </div>

    <script>
      // Copy button
      document.getElementById('copyBtn')?.addEventListener('click', () => {
        const text = document.getElementById('adCopy')?.innerText || '';
        navigator.clipboard.writeText(text).then(() => {
          const btn = document.getElementById('copyBtn');
          if (!btn) return;
          const prev = btn.innerText; btn.innerText = 'Copied!';
          setTimeout(() => (btn.innerText = prev), 1200);
        });
      });
    </script>
  </body>
</html>
